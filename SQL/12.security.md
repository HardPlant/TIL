# 보안

사람들에게 데이터에 대한 접근 권한을 부여하는 법에 대해 알아보자.

## 루트 사용자 계정 보호

`SET PASSWORD FOR 'root'@'localhost' = PASSWORD('b4dc10wnZ')`

## 새 사용자 추가

`CREATE USER elise IDENTIFIED BY 'cl3v3rp4s5w0rd'`

데이터베이스, 테이블에 권한을 줄 수 있다.

## GRANT문

```SQL
GRANT SELECT ON
clown_info
TO elsie;
```

조인과 서브 쿼리를 사용하려면 광대 추적 관련 테이블에도 사용해야 한다.

```sql
GRANT SELECT ON activities TO elsie;
GRANT SELECT ON location TO elsie;
GRANT SELECT ON info_activities TO elsie;
GRANT SELECT ON info_location TO elsie;
```

* 여러 형태

```sql
GRANT INSERT ON magic_animas TO doc;
GRANT DELETE ON magic_animas TO doc, sleepy;
GRANT SELECT(chore_name) ON chores TO doc;
GRANT SELECT, INSERT ON magic_animas TO doc;
GRANT ALL ON magic_animas TO doc; -- SELECT, DELETE, UPDATE, INSERT
GRANT INSERT ON magic_animas TO doc;
GRANT SELECT ON woodland.* TO someone; -- 데이터베이스 내 전부
```

## REVOKE

```SQL
REVOKE SELECT ON
clown_info
FROM elsie;
```

```sql
REVOKE GRANT OPTION ON -- GRANT를 다른 사람에게 할 수 없다.
DELETE ON chores
FROM happy, sleepy;
```

### 정확히 없애기

원하는 사람의 권한만 없애고 다른 사람에게는 영향을 주지 않는 방법이 두 가지 있다.

이 사람과 이 사람이 다른 사람에게 준 권한까지 없앤다.

`REVOKE DELETE ON chores FROM sleepy CASCADE;`

이 사람에게 권한을 없애고, 이 사람이 다른 사람에게 권한을 줬다면 오류를 반환한다.

`REVOKE DELETE ON chores FROM sleepy RESTRICT;`

