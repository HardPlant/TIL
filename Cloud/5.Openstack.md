# 오픈스택

* 클라우드 운영체제

* 내부 구조

* 오픈스택을 구성하는 주요 프로젝트

### 클라우드 OS

단순한 시스템 데몬이 아님
데이터센터의 컴퓨팅, 스토리지, 네트워킹 자원의 풀들을 관리

##### 운영체제

한정된 리소스에 가급적 많은 수의 App을 실행, App이 공평하게 리소스를 사용 가능도록 스케줄러가 이를 관리

OS API는 스토리지, 스케줄러, Process들을 연결함
사용자는 OS API만 알면 되고 커널 내부 코드를 알지 않아도 됨

일반적인 운영체제의 핵심 3요소

* API

운영체제를 사용하는 App이 사용하는 인터페이스
어플리케이션의 요청을 CPU에 전달하는 역할
커널 함수를 안다고 해도 사용할 수 없음 (Priviledge 레벨 필요)

* Scheduler

가장 중요함
프로세스를 실행시키기 위한 모든 자원 관리

* File System

논리적 저장 방법과 물리적 저장 방법을 분리
실행 가능한 프로세스 심볼로 바꿈
운영체제에 종속적이지 않고 독립적으로 사용

이를 오픈스택에 들어가면...

* 모든 계층간 API가 있음

* Nova 프로젝트가 자원 스케줄링을 담당

동작, 트래킹

* Object/Block 스토리지 프로젝트

파일 시스템을 담당

### 오픈스택 내부 구조

VM을 띄우는 것이 오픈스택의 핵심
VM에 스토리지를 FS처럼 탈부착
VM 이미지 파일을 스케줄러에 올리기

실제 하는 일도 OS와 거의 같음

* 오픈스택 주요 프로젝트

VM을 실행, 격리, 관리하기 위한 모든 프로젝트
일종의 메타 OS

* ROS, Robot OS라는 메타 OS가 있음

컴퓨팅 하드웨어, 자원 관리의 함수
함수 조합으로 로봇을 간단히 만들 수 있도록 함

클라우드 환경을 위한 기능들을 OS로

### 오픈스택 주요 프로젝트

리눅스 OS 위에 메타OS처럼 올라감

* Compute(프로세싱) / Storage / Network 가용자원 제어 목적

* 대시보드 프로젝트(Horizon) - 다른 프로젝트를 웹 인터페이스로 운영/제어

광범위 영역, 단말기, 서버 컴퓨터/데이터 관리

IaC, DevOps도 녹아들어가 있음

열린 설계, 개발 지향

커뮤니티와 함께 큼
우분투도 커뮤니티가 있고, 오픈스택 재단에서도 커뮤니티 있음

중요 프로젝트 .. 6가지

* Compute (Nova)

스케줄링 등 관리

* Network (Neutron)

* Image Service (Glance)

VM 이미지 관리

* Identity Service (KeyStone)

인증 체계도 만듬

* Object Storage (Swift)

전체적인 스토리지 노드를 관리

* Block Storage (Cinder)

VM에 블록을 붙임

### Nova

오픈스택 스케줄러 역할

자원 풀 관리, 자동화 설계

베어메탈 / HPC 구성 가능

레거시한 시스템/서드파티 기술과 연동해 클라우드처럼 제공 가능함

오픈스택 솔루션화에 가장 중요한 것은 모니터링임
성능 모니터링할 때 Nova 성능을 어떻게 측정할 것인가?

### 뉴트론

게이트웨이, 스위치 역할

네트워크/IP주소 관리

광범위 네트워크 접속 지원
서비스 제공 업체 네트워크 외 고객 네트워크들 있음
이 네트워크를 VM 인스턴스 만들듯이 관리 가능

OpenFlow/SDN 기술 이용해 멀티테넌시/규모 스케일아웃 가능

광범위 자원 보호를 위해 IDS/로드밸런스/방화벽/VPN등 추가 서비스 배치/관리 확장 프레임워크 제공

유연성 .. 자신의 프로젝트를 넣고 확장시킬 수 있게 함

컴퓨팅 노드 (서버 컴퓨터) .. Nova가 관리
네트워크 배분 (네트워크 서버) + SDN 서버
클라우드 컨테이너
대시보드 서버

..들을 통합해 관리

### Cinder

디스크를 만들어 줌

하드 디스크(블록 스토리지) 역할

인스턴스에 사용할

Ceph, EMC, GlusterFs 등 다양한 스토리지ㅣ 플랫폼 사용
스냅샷 관리.. 블록 스토리지 볼륨의 데이터 백업

Nova 인스턴스 만들기 -> VM 이미지 생성 -> Cinder가 스토리지를 붙임

### Swift

스토리지 노드 관리
프록시를 두고 로드밸런싱
RAID 카드를 쓰지 않아도 되는 장점이 있음

### 복습

* 오픈스택이 클라우드 OS라고 불리는 이유는?

* 오픈스택의 주요 프로젝트는 어떤 것이 있는가?

* 스케줄러 역할을 담당하는 프로젝트는?
