# IaaS : 하드웨어 인프라 분석

클라우드는 다른 말로 인터넷임
굉장히 많은 수의 컴퓨터를 연결/제어해야 함, 네트워크를 알아야 함

### 인프라 기본 지식

##### 알아야 할 것들

##### 소프트웨어

네트워크 프로토콜
네트워크 가상화 (OpenFlow 기반 .. SDN , 네트워크 기능 가상화 NFV)
블록 스토리지, 오브젝트 스토리지 .. 가상의 인스턴스에 하드 디스크 / 스토리지 노드
계정별 오브젝트 단위로
서버 운영체제 설치/설정
서비스 데몬 설치/설정 (Web, DB)
서버 가상화 (하이퍼바이저 / 컨테이너) .. 하나의 물리 서버를 여러 개의 서버처럼 굴릴 수 있도록하는 기술
서버 모니터링 (Nagios) .. 서버가 동작한 이후의 모니터링
DevOps .. 개발자와 인프라 엔지니어의 차이, 클라우드는 주문형 셀프 서비스임
Infrastructure as a Code .. 인프라를 코드처럼 관리, 프로그래밍 가능한 인프라

##### 하드웨어

네트워크 장비 : 스위치, 라우터
스토리지 장비 : Cold/Hot
서버 장비
서버 모니터링 및 관리 : BMC .. 서버가 부팅되기 전 서버가 어떤 상태인지, 서버 온도 및 팬 속도 등 서버/ 주변 하드웨어 관리, 이를 관리하는 CPU가 따로 있음

### 하드웨어 인프라 구성 요소

* 데이터 서버
랙/케이지에 서버가 있음, 랙마운트 서버
발전기, 냉각기, 에어컨이 아래에서 위로 나감 (공냉식 구조)
발전기, 보조장비
IDC는 보통 도심지에 있음, 서버 복구를 위해

구성 요소 .. 데이터센터 건물 자체 / 서버 랙 / 서버 하드웨어

OCP.. Open Compute Project
데이터서버 하드웨어를 오픈소스화
페이스북 데이터센터 오픈 소스 프로젝트
우리나라 SK 등도 OCP에 관심을 가짐
opencompute.org

이슈 .. 운영비 증가
정책 우선순위 1순위 .. 데이터센터에 적용되는 전기요금체계 합리화
기업/산업전기보다 더 낮은 비용으로 IDC 전기세가 제공중이었음
한미 FTA시 폐지됨, 월 전기세 수억/10억이상
(데이터센터 산업 육성을 위한 기반조성 연구/조사 .. 2순위.. 에너지 규제 완화, 3순위.. 그린활동 우수 데이터센터)

소모전력 50%가 냉각에 사용 (서버/스토리지 26%, 전력전환 11%, 네트워크 하드웨어 10%)
발열이 나지 않는 컴퓨팅 서버가 이슈


### 서버 구조 및 BMC 기능

* North 브릿지
앞부분 : 스토리지

* South 브릿지
뒷부분 : 인터넷 (랜선/광케이블)

사이에 발열 냉각 팬 위치
CPU/마더보드
일반적인 서버 CPU : 2개 (x86, BMC(Baseboard Management Controller))
서버에 전원공급/원격 전원차단/팬의 속도, 서버 온도 원격 관리

원격 관리 비중이 증가하고 있음, 원격 관리 자동화 필요
BMC를 업그레이드해야 원격 관리 효율이 수월함
AMI 한군데에서 BMC 소프트웨어를 다 만들고 있음
칩도 대만의 ASpeed 한군데에서 만듬

ARM 기반, CPU가 하나 더 있는 것임

IPMI 프로토콜에서 작동함
임베디드 리눅스로 작동

LCD Debug Card .. 서버 상태 관리를 직접 콘솔 접속하기 않고 디버그 단말기를 만듬

국내
인텔 x86 국산화 프로젝트

데이터센터 관제를 위한IPMI/DCMI 프레임워크/SDK를 `18 하반기까지 개발 중임

저전력서버 + BMC 소프트웨어 (자바 Applet -> Python 웹 콘솔)

### 복습 문제

* 클라우드 컴퓨팅 하드웨어 인프라가 구축된 장소는 어디인가?

* 데이터센터를 구성하는 하드웨어 구성요소 3가지는?

* BMC가 무엇이고 어떤 역할을 하는가?