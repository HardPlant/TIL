# 컨테이너 인프라

* 리눅스 컨테이너 특징

* LXC

* Docker

두 차이점

### 운영체제 가상화..

하나의 서버가 여러 서버가 있는 거처럼 제공
하나의 운영체제가 다른 App 환경을 제공

스택의 크기가 작을 수록 App실행 부담이 작음
Native Docker / Hypervisor + Docker (1스택 더 추가됨, Hypervisor)

### 하이퍼바이저와의 차이점

* Hypervisor

여러 운영체제가 단일 시스템에서 동시에 실행

* 리눅스 컨테이너

하나의 커널에서 여러 App이 실행

### 리눅스 컨테이너

* 사용자 프로세스 가상화 기술

Finux-VServer, FreeBSD Jails, Solaris Zones

핵심 .. 커널 레벨에서 컨테이너 기능 지원 (리눅스 커널 3.8)

일반적인 App 실행

* 커널의 직접적인 지원없음
시스템 라이브러리 차이가 있음, 배포판마다 이게 달라서 배포판 차이가 있음

* 개념

컨테이너는 시스템 콜을 사용하는 것이 아니라 커널 서비스를 직접 제공받음

컨테이너 격리

자원(CPU, 메모리, 블록 I/O, 네트워크 등) 할당

커널 수준 보안 제공

* 중요한 개념

namespace : 컨테이너 격리

cgroups : 자원 할당

CPU의 Priviledged Mode, 시스템 커널 오류가 발생하면 커널 패닉으로 재부팅됨
컨테이너가 커널의 지원을 직접 받기 떄문에, 오류를 제어하려면 격리가 필요

### LXC

### Docker