# AOP

### AOP

* 핵심기능

업무로직을 포함하는 기능

* 부가기능

객체지향 원칙을 이용해도 부가기능 분리 모듈화는 매우 어려움

관심사의 분리를 사용함
분리한 부가기능을 Aspect라는 모듈형태로 만들어 설계, 개발
핵심기능에서 부가기능을 분리해 객체지향적으로 만듬

##### Aspect

부가기능 정의 코드 : Advice
어디에 적용할 것인가 : PointCut

핵심기능 코드 사이의 부가기능을 독립 Aspect로 구분
런타임 시에 필요한 위치에 동적으로 참여

##### 용어

타겟 : 핵심기능 모듈
어드바이스 : 부가기능 모듈
조인 포인트 : 어드바이스가 적용될 수 있는 위치
타깃 객체가 구현한 인터페이스의 모든 메서드
포인트컷 : 어드바이스를 적용할 타겟의 메서드를 선별하는 정규표현식
execution으로 표현식 시작, 메서드의 시그니처 비교
Aspect: AOP 기본 모듈, 싱글톤 형태 객체로 존재
어드바이저 : 어드바이스 + 포인트컷, Spring AOP에서만 사용
위빙 : 어드바이스를 타겟에 조인하는 과정

##### Spring AOP 특징

* 프록시 기반 AOP 지원

프록시는 런타임에 생성됨, 프록시가 호출을 가로채 어드바이스를 포인트컷에 적용 (호출 전이나 후에)

* 메서드 조인 포인트만 지원함
동적 프록시 기반으로 AOP 구현함, 런타임 시점에만 부가기능 적용 가능함

AspectJ 등의 프레임워크를 이용해 객체의 생성, 필드값 조회, 조작, static 메서드 호출, 초기화 등 작업에 부가기능 적용 가능

##### 구현 방식

* XML 기반 POJO 클래스 이용

부가기능을 제공하는 Advice 클래스 작성 -> XML 설정 파일에 `<aop:config>` 이용해 애스팩트 설정 (어드바이스, 포인트컷)

* @Aspect 어노테이션 이용 구현

Aspect 클래스는 어드바이스 구현 메서드, 포인트컷 포함
XML 설정 파일에 `<aop:aspectj-autoproxy/>` 설정

### AOP App 작성

