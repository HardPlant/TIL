# Pandas

```py
import numpy as np
import pandas as pd
```

### Series

`pd.Series([10, 20, 30])`

인덱스를 붙여서 보내줌
인덱스가 부여되므로 서로 다른 시리즈끼리 연산이 가능함

#### 인덱스 부여

```py
ser1.index = ['a','b','c']
```

#### 딕셔너리 -> 시리즈 변화

```py
ser2 = pd.Series({'a':100, 'b':200, 'c':300})
ser2
```

#### 키워드를 이용한 시리즈

```py
ser3 = pd.Series(data=[1,2,3,4], index=['USA','Germany', 'France', 'Japan'])
ser3
```

#### 시리즈 연산

* 시리즈 합

```py
ser3 + ser4
France     NaN
Germany    4.0
Italy      NaN
Japan      8.0
USA        2.0
dtype: float64
```

### DataFrame

* Shift+Tab으로 함수 시그니쳐를 볼 수 있음

```py
pd.DataFrame()
```

csv 파일을 읽으려면

```py
pd.read_csv('gapminder.csv', index_col = 'Unnamed:0')
```
index_col 키워드로 인덱스 열을 지정 가능

#### 열 읽기

```py
df['income'][:5]
```
슬라이스 연산 사용함

#### 새로운 시리즈 만들기 

```py
df['income'] * df ['population']
```

#### 새로운 열로 추가하기
```py
df['gross_income'] = df['income'] * df ['population']
```

#### 열 삭제하기

```py
df.drop(labels='lifeincome', axis=1)
```

삭제한 뒤에 데이터를 재할당시켜줘야 함

또는..

```py
df.drop(labels='lifeincome', inplace=True)
```

#### 탐색

```py
df.head()
df.loc[3]
df.loc[5, 'Country']
```

#### 하부 탐색

```py
df.loc[[10,100,1000], ['region', 'Country']]
```

인덱스, 컬럼명을 지정해 부분 분석 가능

#### 조건 검색

```py
df[df['income']>50000]
df[((df['income']>50000) & (df['life'] > 80))]
```

리스트 컴프리핸션 이용

#### 데이터프레임 인덱스 변경

```py
df.set_index('Year')
```

인덱스 부여 해제

```py
df.set_index('Year')
```

#### 통계 처리

* 평균값

```py
df['income'].mean()
```

널값도 처리하므로, 처리가 필요함

```py
df['income'].fillna(value=0)
df['income'].dropna()

```

미싱 데이터 처리가 필요함

#### 데이터 그루핑

특정 값들의 집합을 세트화함

```py
by_year = df.groupby('Year')
by_year
```

이후

```py
by_year.mean()
by_year.describe()
by_year.describe()['income']
```

#### 유일값

```py
df['region'].unique()
df['region'].nunique() # length를 구함
```

값에 포함된 항목 갯수 구하기

```py
df['region'].value_counts()
```

#### 응용

```py
asia_df = df[df['region'] == 'South Asia']
europe_df = df[df['region'] == 'Europe & Central Asia']
africa_df = df[df['region'] == 'Middle East & North Africa']
america_df = df[df['region'] == 'America']
```

```py
asia_df.groupby(by='Year').mean().head()
```

#### 데이터 정리, 합치기

* 합치기
```py
df.concat[[df1, df2, df3]]
```