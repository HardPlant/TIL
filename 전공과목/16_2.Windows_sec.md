# 윈도우 보안

## 윈도우 설치

* 파티션 나누기

## 윈도우 계정과 권한 체계

## 기본 사용자, 그룹

* Administrator

    관리자 권한 계정

* SYSTEM

    가장 강한 권한, 사용 불가/원격 접속 불가

* Guest

### 기본 생성 그룹

* Administrator : 도메인 자원/로컬 컴퓨터에 대한 모든 권한

* Account Operators : 계정 설정 접근

* Backup Operators : 시스템 파일/디렉터리 접근

* Guests : 시스템 설정 변경 권한 없음

* Print Operatios : 도메인 프린터에 접근 가능

* Power Users : 디렉터리, 네트워크 공유, 공용 프로그램 그룹 생성, 컴퓨터 시계 설정

* Replicator : 파일 복제 권한

* Server Operators : 서버 관리 권한, 로컬 로그온/시스템 재시작 및 종료 권한

* Users : 시스템 시작/종료 권한, 디렉터리 공유 설정을 할 수 없음

## SID(Security Identifier)

UID, RUID, EUID와 유사
계정을 하나의 코드 값으료 표시함

`S-1`-`5-21`-1801674531-`839522115-1708537768`-`500`
1 : 해당 시스템이 윈도우 시스템임
2 : 시스템의 도메인 컨트롤러/단독 시스템
3 : 시스템의 고유한 숫자
4 : 숫자로 표현되는 각 사용자의 고유한 ID (Admin-500, Guest-501, 일반 사용자-1000+)

## 권한 상승

Admin, System 계정으로 권한 상승이 가능

## 윈도우 인증, 패스워드

LSA (Local Security Authority), SAM(Security Account Manager), SRM(Security Reference Monitor)

SAM : 윈도우에서 패스워드를 암호화하여 보관하는 파일의 이름과 동일함

1. LSA
    모든 계정의 로그인에 대한 검증, 시스템 자원/파일 등에 대한 접근 권한 검사
    이름, SID 매칭
    SRM이 생성한 감사 로그 기록
2. SAM
    사용자/그룹 계정 정보에 대한 데이터베이스 관리
    사용자의 로그인 입력 정보, SAM 데이터베이스 정보를 비교해 인증 여부 결정
    SAM 파일은 `%systemroot%/system32/config/sam`에 위치
3. SRM
    SAM이 계정, 패스워드 일치 여부를 SRM에 알리면, SRM은 사용자에게 SID 부여
    SRM은 SID에 기반해 파일/디렉터리에 대한 접근 허용 결정, 감사 메시지 생성

## 공유자료 관리

### 네트워크 드라이브 (마우스 우클릭 - 네트워크 드라이브 설정)

net use 드라이브명 : \\ip\\설졍대상드라이브

### 파일과 폴더의 보안권한 설정

윈도우는 폴더에 6가지 기본 권한설정을 제공하며, 파일에는 5가지 권한을 제공한다.

폴더 내용 보기 : 디렉터리 파일/서브디렉터리 이름을 볼 수 있다.
모든 권한/쓰기/읽기/수정/읽기 및 실행

### 디렉터리 및 파일에 대한 접근 권한 설정

NTFS에서 설정한 디렉터리 및 파일에 대한 접근 권한 설정은 다음 규칙을 갖는다.

* 규칙 1 : NTFS 접근 권한 누적된다. 소속된 그룹 A,B의 권한을 모두 갖는다.

* 규칙 2 : 파일에 대한 접근 권한이 디렉터리에 대한 접근 권한에 우선한다.

* 규칙 3 : 허용보다 거부가 우선이다.

### 공유 자료 관리

`net share`i

### 파일과 폴더 암호화
