# 운영체제 보안 강화

시스템은 설치 과정 동안 최신 패치 설치, 다른 견고화 조치를 취하기 전 위험에 빠질 가능성이 높다.
이러한 위협에 대비하고 전 운영 기간 동안 보안을 유지하기 위해 계획된 프로세스로 시스템을 구축하고 배치하여야 한다.

## 보안 계획 수립

새 시스템을 최대한 보호하고 필요한 정책을 준수할 수 있다.

계획 수립 프로세스에서 시스템, App 및 데이터, 사용자에 대한 보안 요구사항을 결정해야 한다.

## 운영체제 견고화

하부 운영체제를 보호해야 한다.

### 운영체제 설치 : 초기 셋업 및 패치

네트워크에 연결되고 패치가 안 된 시스템은 설치/사용하는 동안 공격에 취약하다.
이상적으로는 보호된 네트워크에서 새 시스템을 설치해야 하며, 모든 패치는 DVD/USB 등 분리 미디어를 사용한다.
초기 설치 시 시스템의 기능에 필요한 소프트웨어 패키지를 최소한으로만 설치한다.

### 불필요한 서비스, 응용 프로그램, 프로토콜 제거하기

한 조직의 시스템 안에도 다르다.
시스템 계획 수립 과정에서 시스템에 실제로 필요한 것을 확인, 필요하지 않은 소프트웨어를 제거해 보안을 향상시키며 적정 수준 기능을 제공한다.

### 사용자, 그룹, 인증 설정

계획 수립 프로세스에서 시스템의 사용자 분류, 권한, 정보 유형, 정의 및 인증을 고려해야 한다.
기본 계정을 보호해야 하며, 필요하지 않은 계정은 제거하거나 비활성화한다.

### 추가 보안제어 설치

AV, Host-방화벽, IDS/IPS SW, App 목록 필터링 등을 설치하고 설정해 추가적으로 보안을 향상시킨다.

## 응용 프로그램 보안

운영체제가 설치되고 적절하게 보호되었다면 필요한 서비스, 응용 프로그램 설치, 보호
이 떄 원격 접근을 제공하는 소프트웨어를 주의깊게 보아야 함

### 응용 프로그램 설정

App/서비스가 기본 데이터, 스크립트, 사용자 계정을 가질 수 있음
이것들을 점검하고 필요한 경우에만 유지하며 적절하게 보호해야 함
웹 서버 : 많은 Example들을 가지고 있지만 상당수가 안전하지 않은 것으로 알려져 있음

## 가상화 보안

가상화 환경, 하이퍼바이저, 이들이 제공하는 보안 서비스의 존재 떄문에 발생하는 문제

### 가상화 시스템 보호호기

* 조직이 해야 할 일

    가상화 시스템 보안 계획
    완전 가상화의 모든 요소들 (하이퍼바이저, 게스트 운영체제, 가상화 인프라 구조)들을 보호, 보안 관리
    하이퍼바이저가 적절하게 보호되는지 확인

* 하이퍼바이저 보안

    운영체제를 보호하는 프로세스와 비슷한 프로세스를 사용해 보호
    권한 있는 관리자만 접근 가능해야 함
    로컬과 원격 감독 모두 지원 가능

## 보안 운영체제 개요

자원에 대한 불법적인 수정, 참조 방지 정책/기법
시스템의 자원을 외부의 침입으로부터 보호
기존의 운영체제 내에 보안기능을 통합시킨 보안커널을 추가로 이식

### 보안 강화 방향

* Add-on 방식

기존 운영체제의 커널을 수정 없이 그대로 이용해 utility수준에서 보안 기능 (암호화, 접근제어, 감사추적)등 수행하는 하드웨어/소프트웨어 추가
보안상 허점/취약점 발생 가능

* 커널수준 보안 기능 (1980년대)

커널 수정, 새로 설계해 커널수준 보안기능(참조모니터 등) 구현

## __보안 운영체제의 주요 제공 기능__

* 보호대상

메모리
보조기억장치 상 파일, 데이터
메모리상 실행 중 프로그램
파일 디렉터리
하드웨어 장치
스택 등 자료구조
명령어 (Priviledged)
패스워드, 사용자 인증 매커니즘
보호 매커니즘 자체

### 보호방법

* 물리적 분리

    사용자별로 장비 분리

* 시간적 분리

    프로세스가 동일 시간에 하나씩만 실행되도록 함

* 논리적 분리

    프로세스가 논리적인 구역을 갖도록 함

* 암호적 분리

    정보 암호화

### 보호원칙

* 모든 접근에 대한 점검

* 최소권한 시행

* 허용 가능한 사용에 대한 검증 (객체에서 실행되는 행동이 적절한지)

## 파일시스템 보호

* 파일 이름 명명

* 패스워드

* 암호화

## __보안 운영체제와 보안커널__

### 보안 기능

* 사용자 식별 및 인증

* 임의적 / 강제적 접근 통제

* 객체 재사용 보호

재할당되는 모든 기억장치 공간을 깨끗하게 지워야 한다.

* 완전한 조정

임의적/강제적 접근통제가 효과적이기 위해서는 모든 접근을 통제해야 한다.

* 신뢰 경로

패스워드의 설정/접근 허용 변경 등 보안 관련 작업을 수행할 때 안전한 통신을 수행가능하게 함

* 감사 및 감사 기록 축소

보안 관련 이벤트를 감사 로그에 반드시 기록되어야 함

### 보안커널

Trusted Computing Base 상에 구현

Reference Monitor 개념을 구현한 TCB의 H/W, F/W, S/W
모든 접근 중재, 수정으로부터 보호, 정확성 검증

TCB : 프로세스 활성화, 실행 도메인 변경, 메모리 보호, 입출력 연산을 담당한다.

### 보안커널 설계 시 고려사항

* 참조 모니터

  * 반드시 부정조작이 없어야 함

  * 항상 무시되지 않고 호출해야 함

  * 모든 동작이 항상 분석과 테스트를 통해 확인할 수 있어야 함

보안커널 데이터베이스(SKDB)를 참조해 객체에 대한 접근허가 여부 결정

## __신뢰 플랫폼 모듈(Trusted Platform Module)__

신뢰 컴퓨팅을 위한 HW/SW 방법에서 핵심이 되는 하드웨어 모듈

인증된 부트, 인증, 암호를 제공함

### 인증된 부트 서비스

운영체제 부팅 시 각 부분이 사용 승인된 버전임을 보장

### 인증 서비스

TPM의 개인키로 설정 정보에 서명

### 암호화 서비스

특정 기계가 특정 설정으로 되어 있을 때만 데이터의 복호화를 수행

## TPM 기능

* 암호화 보조 프로세서

* 키 생성

* HMAC 엔진

* 난수발생기

* SHA-1 앤진

* 전원 탐지

* Opt-in

* 실행 엔진

* (비)/휘발성 메모리