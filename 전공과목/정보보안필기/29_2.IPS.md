# IPS (침입예방시스템)

예방적이고 사전에 조치를 취함
비정상적인 트래픽, 알려지지 않은 공격 차단 가능
다수의 호스트 기반 IPS, 네트워크 IPS가 있음

## IPS의 필요성

속도 떄문이다. 방화벽은 새로운 패턴에 대한 적응력이 무척 낮고, IDS는 침입 사실만 알려주고 대응책을 제시하는 않는다.

* 바이러스 월
  메일, 파일 공유 등을 통해 전파되는 악성코드 제거 가능
  취약점에 대한 공격 대응 불가능

* L7 Switch
  방화벽 전단에 위치해 Dos/DDos mitigation 용으로 사용, 최종적인 session 기반 탐지/차단, 세밀한 정책 사용 불가

OS 차원에서 실시간 방어와 탐지 기능 또한 가능하다.

## 동작

침입탐지시스템과 방화벽의 조합이다.
패킷을 검사해 분석한 뒤 정상이 아니면 방화벽 기능을 가진 모듈로 차단한다.
 -----------<<<<<<<<<<<<----------------
/==> [무결성 검사 필터, 공격 검사 필터] ==\

최근에는 가상머신을 이용한 악성코드 탐지라는 개념을 도입해 적용하고 있다.

## 종류

* 공격 패턴 인지 방식에 의한 분류

  * 시그니처 기반

    침입탐지 패턴 DB 기반
    IDS와 기본적으로 동일한 인지 방식

  * 휴리스틱 기반

    Anomaly Detection/Prevention 방식
    수집/축적된 데이터를 이용해 알려지지 않은 공격에도 오탐을 줄이고 능동적으로 대처

* 데이터 수집원에 따른 분류

  * HIPS : SW기반, 호스트 종속적

    Kernel Dependant : Secure OS 기반, 커널 이벤트를 가로채 처리

    Kernel Independant : 시그니처, 행동 기반 알고리즘 사용해 이벤트 필터링

  * NIPS : HW기반, 독립적, 고성능

    In-line에 설치
    세션 기반 탐지 지원

    다양한 종류의 방지 방법 (시그니처, Protocol anomaly, action)을 통해 악의적인 세션 사용

## IPS의 위치

일반적으로 방화벽 다음에 설치한다. 불필요한 외부 패킷을 방화벽이 거르기 때문이다.
방화벽의 성능이 IPS보다 떨어지는 경우 방화벽 앞에 설치할 수도 있다. 이 경우 네트워크 변경이 불필요해 설치가 간단하다.

최근에는 IPS만 설치하기도 하며, 하드웨어 칩으로 만든 ASIC(Application Specific Integrated Circuit)을 소프트웨어로 많이 이용한다. ASIC으로 만들어진 장비를 Appliance라고 부른다.