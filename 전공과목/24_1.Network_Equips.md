# 네트워크 장비의 이해

## 랜카드

NIC

## 허브

물리 계층 장비, 신호 감쇠 전까지 고정된 거리 이동
현재 스타형 토폴로지에서 사용, 리피터 + AP

* 리피터

    신호 증폭
    버스형에서 사용

## 브리지

2계층 장비 (데이터 링크)

패킷 프레임에 대한 인지능력 있음
데이터링크계층인 MAC(Media Access Control)에서 동작 (48비트 물리적 주소)
둘 이상의 네트워크 상호 연결
충돌 도메인을 나누어주는 장비

네트워크를 분산적으로 구성해 보안성 높임

## 라우터

3계층 장비 (네트워크) : IP 주소를 가짐
이기종 LAN, WAN, 라우팅, 에러패킷 폐기
패킷 전달 시 해당 패킷의 링크 계층 주소 (발신지, 목적지 모두) 변경
브로드캐스팅, 멀티캐스팅 패킷이 모두 차단되는 곳

## 스위치

* 2계층 스위치 (데이터링크)

    모든 포트에 연결된 호스트의 MAC주소 학습
    스위칭 테이블 갱신, 프레임 전달

* 3계층 스위치 (네트워크)

    하드웨어 사용 라우터 (라우팅 스위치)
    ASIC 스위칭 기술 사용, 크로스바 (점대점 연결이 하나의 교차로를 지남) 스위치

* 4계층 스위치 (네트워크)

    가상 서버 역할 수행 (VIP : 203.252.53.2/24) ==> 203.252.53.3 (Web), 4(Web,SMTP), 5(Web, SMTP)
    포트번호 기준 패킷 전송
    포트번호로 응용 계층 서비스 구분, L4 스위치 관리 서버의 부하에 따라 세그먼트 배분
    (Server Load Balancing)

* 7계층 스위치

    L4 스위치는 1024번까지만의 포트만 인식, TCP/UDP 포트 정보 분석

    트래픽의 내용(이메일 문자열, URL, FTP 파일) 패턴 분석해 패킷 처리
    더 정교한 패킷의 부하분산, QoS 구현 가능

### 방법에 따른 분류

* Store and Forward

    일단 들어오는 프레임을 전부 받아들인 다음 처리한다.
    프레임을 받아들인 다음 프레임이 제대로 다 들어왔는지, 에러는 없는지, 출발지/목적지는 어디있지 파악해 처리한다.
    에러가 발견되면 프레임을 버리고 재전송해 에러 복구능력이 뛰어나다.

* Cut through

    프레임의 목적지 주소만 본 다음 전송 처리를 시작한다.
    48비트만 보게 되어 처리가 빠르지만, 에러 복구 능력에 취약하다.

* Fragment-Free

    처음 512비트를 본다.
    에러 감지 능력이 컷스루에 비해 우수하다.

### Port mirroring

스위치는 한 포트에 발생한 데이터를 허브처럼 전 포트에 전달하지 않는다. 따라서 포트의 트래픽을 복사하는 트래픽분석장비가 필요하다.

## Gateway

서로 다른 통신규약을 사용하는 네트워크들을 상호연결하는 장비이다.

모든 계층을 포함해 동작하는 네트워크 장비이고, 네트워크 내의 병목현상을 일으키는 지점이 될 수 있다.
PSTN과 데이터 네트워크처럼 전혀 다른 네트워크와의 연동이 가능하다.