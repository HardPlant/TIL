# 스위칭

패킷교환, 회선교환, 메시지교환

## TCP/IP

물리계층 : 회선교환

데이터링크 : 패킷(프레임, 셀), 가상회로

네트워크 : 패킷 스위칭, 가상회로 -> 데이터그램

App : 메시지 스위칭

## 회선교환

* 하나 이상의 연결된 지정된 경로로 연결

* 각 연결마다 하나의 채널 사용

* 연결은 n 채널로 나눠짐, FDM/TDM 이용

### Setup 단계

A -> M

1. A : M에게 연결을 요청함, M과 M을 향하는 모든 스위치의 허락을 받아야 됨

2. 각 링크에 대한 회선(채널)이 예비됨

3. 회선이나 채널의 조합이 지정된 경로를 구성함

연결이 수립되었다면 data-fransfer 단계로 넘어감

전송이 끝나면 연결이 teardown됨

### 강조점

회선교환 : 물리계층에서 일어남

통신 전에 자원을 예약해야 함 (채널: FDM- 대역폭, TDM - 타임 슬롯, 스위치 버퍼, 스위치 프로세싱 타임, 스위칭 I/O)

자원이 지정되어져 있어야 함
데이터가 패킷화되지 않음
주소지정 없음

### 3 단계

* Setup

시스템 A - 스위치 1에 연결되어 있음. 스위치 1은 채널을 찾아서 스위치 4를 할당 가능한 것을 찾음
스위치 1 - 스위치 4에 요청을 보냄, 4는 스위치 3을 찾음
스위치 3 - 시스템 M에게 A의 의도를 알림
M - 반대방향으로 ACK를 보냄

* Data-tranfer

두 단체가 데이터를 주고받을 수 있음

* Teardown

신호를 보내 각 스위치가 자원을 해제함

### 지연

연결의 모든 단계동안 자원이 예약됨
이 자원은 다른 열결에 사용 불가
지연은 최소임

## 패킷 교환

## 데이터그램 네트워크

라우팅 테이블을 가지고 있음

### 도착 주소

패킷의 목적지를 포함한 헤더를 가지고 있음

### 지연`

가상회로 네트워크보다 지연이 김 (대기시간)

### 가상회로

회선교환망처럼 setup, teardown 페이즈가 있음
자원이 할당될 수 있음

Addressing
    Global
        시작점, 도착점은 글로벌 주소를 가져야 함
        VCI를 만드는데만 이용
    VCI(Virtual Circuit Identifier)
        데이터 전송을 위한 레이블
        스위치 범위의 작은 수, 교환할 프레임에 사용
        프레임이 스위치에 왔다면, VCI를 가짐. 나갈 때 다른 VCI를 가짐

|   In  |    Out    |
|  1 : 14 | 3 : 66  |