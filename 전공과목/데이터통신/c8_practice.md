# Switching

## 2. 3단계 시간-공간-시간 스위치, N=100, 10 TSI를 1, 3단계에 사용하고 3단계 4개 크로스바가 중간 단계에 있음

a. 구성도를 그려라

[10] [10\*10] [10\*10]

b. 크로스포인트의 총 수
10 X 10 = 100

c. TSI가 필요한 메모리 위치의 총 수
TSI(Time Slot Interchange), 연결할 터미널의 수와 같음 (하나의 타임 슬롯과 같음)
N = 100
연결할 터미널의 

## 4. 가상회로 네트워크 스위치를 보여주고 있음

|in         |out    |
|Port|VCI|Port|VCI|
|----|-----|------|---|
|1  |14 |3  |22 |
|2  |71 |4  |41 |
|2  |92 |1  |45 |
|3  |58 |2  |43 |
|3  |78 |2  |70 |
|4  |56 |3  |11 |

다음 입력 포트, VCI 주소를 가진 패킷의 출력 포트, VCI를 찾아라.

a. 패킷 1 : 3, 78
=> 2, 70
b. 패킷 2 : 2, 92
=> 1, 45
c. 패킷 3 : 4, 56
=> 3, 11
d. 패킷 4 : 2, 71
=> 4, 41

## 5. 그림 8.27은 데이터그램 네트워크의 스위치를 나타낸다

|   Dest    | Output |
|   1233    |   3   |
|   1456    |   2   |
|   3255    |   1   |
|   4470    |   4   |
|   7176    |   2   |  1 - [ Sw ]  -4
|   8766    |   3   |     2-/ \-3
|   9144    |   2   |

해당 주소를 가진 패킷의 출력 포트를 구해라.

a. 패킷 1 : 7176
=> 2
b. 패킷 2 : 1233
=> 3
c. 패킷 3 : 8766
=> 3
d. 패킷 4 : 9144
=> 2

## 7. 1000개의 input/output을 가진 공간분할 스위치가 필요하다. 크로스포인트 총 수를 구해라

a. single 크로스바 이용
n*n = 1000 * 1000 = 10^6

b. multi-stage 스위치, Clos 표준에 근거한
Clos 표준 : 중간 단계의 스위치가 2n-1 이상이 되야 함, k>=2n-1
n은 (N/2)^(1/2) 이상이 되어야 함

N= 1000, n = sqrt(500) := 25, k = 49
point = 2kn + k(N/n)^2 = 2 * 49 * 25 + 49 (1000/25)^2 = 2450 + 49 * 1600 = 80850

## 8. 3단계 공간분할 스위치, N = 100. 10 크로스바를 1,3단계에 놓고 4 크로스바를 중단 단계에 놓음

a. 구성도를 그려라

[ n = 10 [n\*k] k = 4 [N/n * N/n] k= 4 [k\*n] n = 10 ]

b. 크로스포인트 총 수를 구해라

2kN + k(N/n)^2 = 2 * 100 * 4 + 4 * (10)^2 = 800 + 400 = 1200

c. 동시연결이 가능한 수를 구해라

10 * 4 = 40

d. single 크로스바(100x100)을 사용할 경우동시연결이 가능한 수를 구해라

100

d. part c, part d에 있는 blocking factor와 ratio of the number of connection를 구해라

c : 
blocking factor : 40 / 100 = 0.4
ratio of the number of connection = (N/n)^2 /N = N/n^2 = 100 / 16 = 6.25

d : 
blocking factor : k/N : 100/100 = 1
ratio of the number of connection = 100 / 100 = 100

## 9. 디지털 서킷교환 네트워크 결고가 1Mbps 데이터레이트를 가지고 있다. 1000bit 교환이 setup, teardown 페이즈에 필요하다. 두 집단간 거리는 5000km이다

전파속도가 2x10^8 이면

a. 1000bit가 데이터전송 단계에 일어난다면 총 지연은?

(5000*1000m / 2*10^8m/s)\* (10^3(bit) / 10^6(bit/sec))* 2 + (10^3 / 10^6)(bit/(bit/sec) + (10^3 / 10^6)(bit/(bit/sec))
= 25 + 75 micsec

b. 1000000bit가 데이터전송 단계에 일어난다면 총 지연은?

(5000*1000m / 2*10^8m/s)\* (10^3(bit) / 10^6(bit/sec))* 2 + (10^6 / 10^6)(bit/(bit/sec) + (10^3 / 10^6)(bit/(bit/sec))

= 25075ms

c. 10000000bit가 데이터전송 단계에 일어난다면 총 지연은?
(5000*1000m / 2*10^8m/s)\* (10^3(bit) / 10^6(bit/sec))* 2 + (10^7 / 10^6)(bit/(bit/sec) + (10^3 / 10^6)(bit/(bit/sec))

= 250075ms

d. delay per 1000bit를 위의 각 사례에서 찾고 비교해라. 무엇을 알 수 있는가?

setup, teardown delay는 일정함
25micsec * bit만큼 전파 지연이 추가됨

## 14. 같은 메시지에 속한 5개의 크기가 같은 데이터그램이 출발하고 있다. 데이터그램은 다른 경로를 향한다

|   Datagram    |   Path Length |   Visited Switchs |
|---------------|---------------|-------------------|
|   1   |   3200km  |   1,3,5   |
|   2   |   11,700km    |   1,2,5   |
|   3   |   12,200km    |   1,2,3,5 |
|   4   |   10,200km    |   1,4,5   |
|   5   |   10,700im    |   1,4,3,5 |

각 스위치의 딜레이는 3, 10, 20, 7, 20 ms이다.
전파 속도는 2x10^8이라고 가정하고, 데이터그램이 도착하는 순서, 각 지연을 구해라. 다른 지연은 무시해라.

1 : (3200 * 10^3 / 2 * 10^8) + (3 + 20 + 20)ms
2 : (11700 * 10^3 / 2 * 10^8) + (3 + 10 + 20)ms
3 : (12200 * 10^3 / 2 * 10^8) + (3 + 10 + 20 + 20)ms
4 : (10200 * 10^3 / 2 * 10^8) + (3 + 7 + 20)ms
5 : (10700 * 10^3 / 2 * 10^8) + (3 + 7 + 20 + 20)ms