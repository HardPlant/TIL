# 방화벽 구축

* 머스커레이딩 : 사설 IP 컴퓨터들이 하나의 공인 IP를 사용할 수 있는 방법이다.

* NAT : Network Address Translation

  SNAT : 사설 IP에서 패킷을 전송하면 공인 IP로 전송시킨다.
  DNAT : 방화벽 컴퓨터가 공인 IP의 특정한 포트로 가는 요청을 사설 IP에 리다이렉트 시켜준다. 

* 실습

  방화벽 컴퓨터의 ip 192.168.xxx.100을 공인 ip로 취급하고, 내부망에서의 ip를 10.1.1.1, 게이트웨이로 설정하겠다.
  vmnet0에서 bridged로 클라이언트(10.1.1.10), 서버B(10.1.1.20)를 설정하고, 가상 허브에서 게이트웨이로 서버A에 연결한다.

  * 클라이언트

    다음과 같이 설정하자.

    ```bash
    IPADDR=10.1.1.10
    NETMASK=255.255.255.0
    GATEWAY=10.1.1.1
    DNS1=168.126.63.1
    ```

  * 서버 B

    다음과 같이 설정하자.

    ```bash
    IPADDR=10.1.1.20
    NETMASK=255.255.255.0
    GATEWAY=10.1.1.1
    DNS1=168.126.63.1
    ```
