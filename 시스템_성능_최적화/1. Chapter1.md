# 성능 기초

## 성능이란?

#### 파이프의 성능

* 시간당 보내는 물의 양

* 요소 : 물이 흐르는 속도, 파이프의 직경

#### 시스템의 성능

시간당 처리량

* 응답시간, 동시에 처리할 수 있는 프로세스 수

### 성능의 정의

고객의 특정 업무를 대상으로 운영환경하에서 고객이 수긍할 수 있는 응답시간 내에 처리할 수 있는 거래량

#### 용어

##### 동시 사용자

* 부하 : 동시 사용자

시스템과 접속을 유지하고 있는 사용자 수
동시에 시스템에 트랜잭션을 유발시키는 사용자

* 동시 사용자 : 요청 사용자 수 + 비요청 사용자 수

* 요청 사용자 수 : 요청을 보낸 후 기다리고 있는 사용자

* 비요청 사용자 수 : 서버에 요청을 보내고 있지 않은 사용자

##### 처리량

서버가 일정 시간 내에 처리한 트랜잭션의 양

고객 조회: 1 트랜잭션
서비스 요청자 입장 : 18(웹 자원)+App(6)+DB 처리(100) 트랜잭션

* 중요한 것

DB의 데이터 처리속도, 웹 서버/이미지의 처리 속도가 아니라 고객의 업무를 얼마나 빨리 처리가능한가

TPS의 T: 고객의 업무 처리 건수로 보는 것이 고객과의 의사소통, 업무 시스템 평가에 적합함

그 이외에 Page Per Sec, Hit Per Sec이 있음

* PPS : 화면 단위로 분석, 하지만 고객 입장에서는 1임

* HPS : 모든 이미지, 스크립트, 스타일, 컴포넌트 당 1

* 일반적으로 시스템은 500TPS 이내인 것이 적절함

* 뱅킹시스템, 통신사 고객정보시스템, 과금시스템 : 1000TPS가 넘음

##### 응답시간

요청한 후 응답을 받을 때까지 소요된 시간

###### 측정하는 위치에 따라

* 클라이언트 응답시간

사용자 요청 후 화면에 나타날 때까지 경과한 시간
클라이언트 내부 처리시간 + 네트워크 응답시간
ㄴ화면 렌더링 시간 + 클라이언트 로직 처리시간

* 네트워크 응답시간

사용자 PC 요청 후 응답이 도착할 때까지 시간

성능 테스트 도구 : HP사 로드러너, HTTP/HTTPS or TP API 모니터 시간
DNS 룩업 시간 + 서비스 업로드/다운로드 네트워크 시간 + 서버 응답 시간

* 서버 응답시간

서버가 요청을 받은 후 처리 결과를 내보내는 시간
웹 액세스로그, 애플리케이션 서버 로그, APM(App Performance Mgmt) 기반 측정 시
웹 서버, 앱 서버, 디비 서버 내의 각 처리시간, 대내외 타 시스템 연계 응답시간

* 연계 응답시간

대네외 연계 서버에 요청을 보내 응답을 받기까지 경과된 시간

연계됬을 경우 전체 응답시간에서 대외기관 응답시간을 구분해서 관리하면:
    성능 분석, 개선 시 접근 방향을 설정하기 위해 중요

연계서버(FEP, ESB) 내 처리시간 + 연계서버 기준 타 시스템의 네트워크 응답+서버 응답시간

가장 정확한 곳은 실 사용자 위치한 곳
성능 개선 시 처리시간을 세분화해 측정할 수 있는 방안이 필요
"아는 만큼 보인다" -> "보이는 만큼 개선가능하다"

##### 자원